---
import { Image } from "astro:assets";

interface Props {
	title: string;
	description: string;
	slug: string;
	tags?: string[];
	link?: string;
	image: string;
}

const { title, description, tags, link, image } = Astro.props;
---

<a href="#" class="group block">
	<div class="bg-white dark:bg-gray-800 rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300 border border-gray-200 dark:border-gray-700 overflow-hidden">
		<div class="flex flex-col md:flex-row md:h-40">
			<!-- 左側：テキストコンテンツ -->
			<div class="flex flex-col flex-grow min-w-0 p-6">
				<h3 class="text-xl font-bold text-gray-900 dark:text-white mb-2 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors line-clamp-1">
					{title}
				</h3>
				{link && (
					<a href={link} target="_blank" rel="noopener noreferrer" class="text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 text-sm underline break-all mb-2" onclick="event.stopPropagation()">
						{link}
					</a>
				)}
				<p class="text-gray-600 dark:text-gray-400 mb-4 flex-grow text-xs line-clamp-2">
					{description}
				</p>
				{tags && tags.length > 0 && (
					<div class="flex flex-wrap gap-2">
						{tags.slice(0, 3).map((tag) => (
							<span class="px-2 py-1 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 text-xs rounded-full">
									{tag}
							</span>
						))}
					</div>
				)}
			</div>
			<!-- 右側：サムネイル画像 -->
			<div class="w-full md:w-48 h-48 md:h-auto flex-shrink-0 bg-gray-100 dark:bg-gray-700 overflow-hidden flex items-center justify-center p-2">
				<img src={image} alt={title} class="max-w-full max-h-full object-contain group-hover:scale-105 transition-transform duration-300" />
			</div>
		</div>
	</div>
</a>
